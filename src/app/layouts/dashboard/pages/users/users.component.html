<h1> Usuarios </h1>

<div class="col-12 flex justify-content-end">
    <button (click)="onCreate()" mat-flat-button color="primary">
         Agregar 
    </button>
</div>

  
<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

    <!-- ng container no se le puede dar estilo, es como un div que no tiene representaciÃ³n grafica--> 

    <!-- Id Column -->
    <ng-container matColumnDef="id">
      <!-- HEADER -->  
      <th mat-header-cell *matHeaderCellDef appSize> Id </th>                     <!-- appSize: directiva personalizada-->
      <!-- CELDA -->  
      <td mat-cell *matCellDef="let user"> {{ user.id }} </td>
    </ng-container>
  
    <!-- Username Column -->
    <ng-container matColumnDef="userName">
      <!-- HEADER -->  
      <th mat-header-cell *matHeaderCellDef appSize> UserName </th>
      <!-- CELDA -->  
      <td mat-cell *matCellDef="let user"> {{user.userName}} </td>
    </ng-container>

    <!-- fullName Column -->
    <ng-container matColumnDef="fullName">
        <!-- HEADER -->  
        <th  mat-header-cell *matHeaderCellDef appSize> Nombre Completo </th>
        <!-- CELDA -->  
        
        <!-- Antes: Sin CUSTOM PIPES -->  
        <!-- <td mat-cell *matCellDef="let user"> 
                {{ user.firstName + ' ' + user.lastName}} 
        </td> -->

        <!-- Ahora: Con Custom Pipe fullName: Apellido, Nombre -->  
        <td mat-cell *matCellDef="let user"> 
          {{ {firstName: user.firstName, lastName: user.lastName} | fullName }}   <!-- Uso Pipe fullName -->
        </td>
    </ng-container>  
    
    <!-- email Column -->
    <ng-container matColumnDef="email">
      <!-- HEADER -->  
      <th mat-header-cell *matHeaderCellDef appSize> Email </th>
      <!-- CELDA -->  
      <td mat-cell *matCellDef="let user"> {{user.email}} </td>
    </ng-container>

    

    <!-- Role Column -->
    <ng-container matColumnDef="rol">
      <!-- HEADER -->  
      <th mat-header-cell *matHeaderCellDef appSize> Rol </th>
      <!-- CELDA -->  
      <td mat-cell *matCellDef="let user"> {{user.role}} </td>
    </ng-container>

    <!-- Actions Column -->
    <ng-container matColumnDef="actions">
      <!-- HEADER -->  
      <th mat-header-cell *matHeaderCellDef appSize> Acciones </th>
      <!-- CELDA -->  
      <td mat-cell *matCellDef="let user"> 
          
          <button (click) = "onDeleteUser(user)" mat-icon-button color="warn"> 
              <mat-icon> delete </mat-icon>
          </button> 
          <button (click) ="onEdit(user)" color="primary" mat-icon-button>
              <mat-icon>edit</mat-icon>
          </button> 
      </td>
    </ng-container>
        
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
  
  